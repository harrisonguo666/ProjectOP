<!DOCTYPE html>
<html>
<head>
	<title>Trade</title>
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<link rel="stylesheet" type="text/css" href="css/center-body-stylesheet.css">
	<link rel="stylesheet" type="text/css" href="css/trade.css">
	
</head>
<body>
<script type="text/javascript" src="js/trade.js"></script>
<div class="topnav">
	<a class="logo" href="index.html" style="float: left">Project OP</a>	
	<a href="about.html">About</a>
	<a href="account.html">Account</a>
	<a href="watchlists.html">Watchlists</a>
	<a class="active" href="trade.html">Trade</a>
</div>
	
<button class="open-button" onclick="openForm()">Trade</button> <!-- trade button at the top -->

<div class="form-popup" id="tradeform"> <!-- popup form -->
  <form action="../python/trade.py" class="form-container"> <!-- fix action path -->
	<h2>Your trading power:</h2> <!-- retrieve from python -->
	
	<label for="symbol"><b>Symbol</b></label>
	<input type="text" name="symbol" id="symbol">
	<input type="submit" value="Search" id="symbol-search"><br>



	<label for="Number of shares"><b>Number of shares</b></label>
	<input type="text" name="number-of-shares" id="shares">
	<!-- limit number of shares based on buying power and market price 
		change order with market price -->

	<p>Market price: <span id="market-price"></span></p>
	<!-- retrieve MP and use .innerHTML to show inside span
	// using .innerHTML is a SECURITY RISK!!! -->
	
	<!-- 
	<script type="text/javascript" src="jquery-1.5.1.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			var symbol='goog';
			var callback = function(data) {
				var price=data.query.results.span[0].content;
				alert('Stock Price: ' + price);
			};
			
			var url = 'http://query.yahooapis.com/v1/public/yql';
			var data = "q=select%20*%20from%20html%20where%20url%3D%22http%3A%2F%2Ffinance.yahoo.com%2Fq%3Fs%3D" + symbol + "%22%20and%20xpath%3D'%2F%2Fspan%5B%40id%3D%22yfs_l10_" + symbol + "%22%5D'&format=json";
 			$.getJSON(url, data, callback);
			});
	</script>
-->
	
	<p>Cost: <span id="total-cost"></span></p>
	<!-- use .innerHTML -- SECURITY RISK-->


	
	<label for="Type"><b>Type</b></label> <!-- user selects either Buy or Sell -->
	<input type="radio" name="Type">Buy
	<input type="radio" name="Type">Sell 

	<button type="submit" class="btn">Submit</button>
	<button type="button" class="btn cancel" onclick="closeForm()">Cancel</button>
	<!-- close popup form upon clicking "Cancel" button -->
  </form>
</div>

	<h2><a href="#Pending Orders">Pending Orders</a></h2>
	<h2><a href="#Past Orders">Past Orders</a></h2>
</body>
</html>